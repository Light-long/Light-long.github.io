<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Spring(1) | Light-long</title><meta name="keywords" content="Spring,IOC"><meta name="author" content="李世龙"><meta name="copyright" content="李世龙"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="Spring(1)1.Spring概述1.Spring是什么？ Spring 是分层的 Java SE&#x2F;EE 应用 full-stack 轻量级开源框架，以 IoC（Inverse Of Control：   反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核，提供了展现层 Spring   MVC 和持久层 Spring JDBC 以及业务层事务管">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring(1)">
<meta property="og:url" content="https://light-long.github.io/2020/10/07/Spring-1/index.html">
<meta property="og:site_name" content="Light-long">
<meta property="og:description" content="Spring(1)1.Spring概述1.Spring是什么？ Spring 是分层的 Java SE&#x2F;EE 应用 full-stack 轻量级开源框架，以 IoC（Inverse Of Control：   反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核，提供了展现层 Spring   MVC 和持久层 Spring JDBC 以及业务层事务管">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://light-long.github.io/img/12.jpg">
<meta property="article:published_time" content="2020-10-07T07:14:27.000Z">
<meta property="article:modified_time" content="2020-10-07T07:59:53.217Z">
<meta property="article:author" content="李世龙">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="IOC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://light-long.github.io/img/12.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://light-long.github.io/2020/10/07/Spring-1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.2.0',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2020-10-07 15:59:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {
  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }

  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }
})()</script><meta name="generator" content="Hexo 5.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">3</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">4</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">1</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Spring-1"><span class="toc-number">1.</span> <span class="toc-text">Spring(1)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Spring%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1.Spring概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-Spring%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">1.Spring是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-Spring%E7%9A%84%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">2.Spring的优势</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-Spring%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.0.3.</span> <span class="toc-text">3.Spring的体系结构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-IOC%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E4%BD%9C%E7%94%A8"><span class="toc-number">1.2.</span> <span class="toc-text">2.IOC的概念和作用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AF%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%80%A6%E5%90%88%EF%BC%9F"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">1. 什么是程序的耦合？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E8%A7%A3%E8%80%A6"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">2. 工厂模式解耦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC-Inversion-Of-Control"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">3. 控制反转-Inversion Of Control</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-IOC%E8%A7%A3%E5%86%B3%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%80%A6%E5%90%88%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.3.</span> <span class="toc-text">3. IOC解决程序的耦合步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E4%BA%8Exml%E7%9A%84IOC%E5%85%A5%E9%97%A8"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">1. 基于xml的IOC入门</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%9F%BA%E4%BA%8E-XML-%E7%9A%84-IOC-%E7%BB%86%E8%8A%82"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">2.  基于 XML 的 IOC 细节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-IOC-%E4%B8%AD-bean-%E6%A0%87%E7%AD%BE%E5%92%8C%E7%AE%A1%E7%90%86%E5%AF%B9%E8%B1%A1%E7%BB%86%E8%8A%82"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">3. IOC 中 bean 标签和管理对象细节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AE%9E%E4%BE%8B%E5%8C%96bean%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">4.实例化bean的三种方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Spring%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">1.4.</span> <span class="toc-text">4.Spring的依赖注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E6%A6%82%E5%BF%B5"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">1.依赖注入概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E6%B3%A8%E5%85%A5"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">2. 构造函数注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-set%E6%96%B9%E6%B3%95%E6%B3%A8%E5%85%A5"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">3.set方法注入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8-p-%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%E6%B3%A8%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%88%E6%9C%AC%E8%B4%A8%E8%BF%98%E6%98%AF%E8%B0%83%E7%94%A8-set-%E6%96%B9%E6%B3%95%EF%BC%89"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">4.使用 p 名称空间注入数据（本质还是调用 set 方法）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%B3%A8%E5%85%A5%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">5.注入集合属性</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BD%BF%E7%94%A8-spring-%E7%9A%84-IOC-%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%B4%A6%E6%88%B7%E7%9A%84-CRUD"><span class="toc-number">1.5.</span> <span class="toc-text">5. 使用 spring 的 IOC 的实现账户的 CRUD</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">1. 创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%BC%96%E5%86%99%E5%AE%9E%E4%BD%93%E7%B1%BB"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">2. 编写实体类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E7%BC%96%E5%86%99%E6%8C%81%E4%B9%85%E5%B1%82%E4%BB%A3%E7%A0%81"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">3.编写持久层代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%BC%96%E5%86%99%E4%B8%9A%E5%8A%A1%E5%B1%82%E4%BB%A3%E7%A0%81"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">4.编写业务层代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.0.5.</span> <span class="toc-text">5.创建并编写配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"><span class="toc-number">1.5.0.6.</span> <span class="toc-text">6. 测试代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E5%88%86%E6%9E%90%E6%B5%8B%E8%AF%95%E4%B8%AD%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.5.0.7.</span> <span class="toc-text">7. 分析测试中的问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%9F%BA%E4%BA%8E%E6%B3%A8%E8%A7%A3%E7%9A%84-IOC-%E9%85%8D%E7%BD%AE"><span class="toc-number">1.6.</span> <span class="toc-text">6.  基于注解的 IOC 配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8-Component-%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86%E7%9A%84%E8%B5%84%E6%BA%90"><span class="toc-number">1.6.0.1.</span> <span class="toc-text">1.使用@Component 注解配置管理的资源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA-spring-%E7%9A%84-xml-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%B9%B6%E5%BC%80%E5%90%AF%E5%AF%B9%E6%B3%A8%E8%A7%A3%E7%9A%84%E6%94%AF%E6%8C%81"><span class="toc-number">1.6.0.2.</span> <span class="toc-text">2.创建 spring 的 xml 配置文件并开启对注解的支持</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.6.0.3.</span> <span class="toc-text">3. 常用注解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%85%B3%E4%BA%8E-Spring-%E6%B3%A8%E8%A7%A3%E5%92%8C-XML-%E7%9A%84%E9%80%89%E6%8B%A9%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.</span> <span class="toc-text">7. 关于 Spring 注解和 XML 的选择问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-spring-%E7%9A%84%E7%BA%AF%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AE"><span class="toc-number">1.7.0.1.</span> <span class="toc-text">1. spring 的纯注解配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%96%B0%E6%B3%A8%E8%A7%A3%E8%AF%B4%E6%98%8E"><span class="toc-number">1.7.0.2.</span> <span class="toc-text">2.新注解说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%9A%E8%BF%87%E6%B3%A8%E8%A7%A3%E8%8E%B7%E5%8F%96%E5%AE%B9%E5%99%A8"><span class="toc-number">1.7.0.3.</span> <span class="toc-text">3. 通过注解获取容器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Spring-%E6%95%B4%E5%90%88-Junit"><span class="toc-number">1.8.</span> <span class="toc-text">8. Spring 整合 Junit</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%97%AE%E9%A2%98"><span class="toc-number">1.8.0.1.</span> <span class="toc-text">1.问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF"><span class="toc-number">1.8.0.2.</span> <span class="toc-text">2.解决思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.8.0.3.</span> <span class="toc-text">3. 配置步骤</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(/img/12.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Light-long</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">Spring(1)</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-10-07T07:14:27.000Z" title="发表于 2020-10-07 15:14:27">2020-10-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-10-07T07:59:53.217Z" title="更新于 2020-10-07 15:59:53">2020-10-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Spring%E5%AE%B6%E6%97%8F/">Spring家族</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="Spring-1"><a href="#Spring-1" class="headerlink" title="Spring(1)"></a>Spring(1)</h1><h2 id="1-Spring概述"><a href="#1-Spring概述" class="headerlink" title="1.Spring概述"></a>1.Spring概述</h2><h4 id="1-Spring是什么？"><a href="#1-Spring是什么？" class="headerlink" title="1.Spring是什么？"></a>1.Spring是什么？</h4><ul>
<li>Spring 是分层的 Java SE/EE 应用 full-stack <strong>轻量级开源框架</strong>，以 <strong>IoC（Inverse Of Control：</strong> </li>
</ul>
<p><strong>反转控制）和 AOP（Aspect Oriented Programming：面向切面编程）为内核</strong>，提供了展现层 Spring  </p>
<p>MVC 和持久层 Spring JDBC 以及业务层事务管理等众多的企业级应用技术，还能整合开源世界众多 </p>
<p>著名的第三方框架和类库，逐渐成为使用最多的 Java EE 企业应用开源框架。 </p>
<h4 id="2-Spring的优势"><a href="#2-Spring的优势" class="headerlink" title="2.Spring的优势"></a>2.Spring的优势</h4><p><strong>方便解耦，简化开发</strong> </p>
<ul>
<li>通过 Spring 提供的 IoC 容器，可以<strong>将对象间的依赖关系交由 Spring 进行控制</strong>，避免硬编码所造 </li>
</ul>
<p>成的过度程序耦合。用户也不必再为单例模式类、属性文件解析等这些很底层的需求编写代码，可 </p>
<p>以更专注于上层的应用。 </p>
<p><strong>AOP</strong> <strong>编程的支持</strong> </p>
<ul>
<li>通过 Spring 的 AOP 功能，方便进行面向切面的编程，许多不容易用传统 OOP 实现的功能可以</li>
</ul>
<p>通过 AOP 轻松应付。 </p>
<p><strong>声明式事务的支持</strong> </p>
<ul>
<li>可以将我们从单调烦闷的事务管理代码中解脱出来，通过<strong>声明式方式灵活的进行事务的管理</strong>， </li>
</ul>
<p>提高开发效率和质量。 </p>
<p><strong>方便程序的测试</strong> </p>
<ul>
<li>可以用非容器依赖的编程方式进行几乎所有的测试工作，测试不再是昂贵的操作，而是随手可 </li>
</ul>
<p>做的事情。 </p>
<p><strong>方便集成各种优秀框架</strong> </p>
<ul>
<li>Spring 可以降低各种框架的使用难度，提供了对各种优秀框架（Struts、Hibernate、Hessian、Quartz </li>
</ul>
<p>等）的直接支持。 </p>
<p><strong>降低</strong> <strong>JavaEE API</strong> <strong>的使用难度</strong> </p>
<ul>
<li>Spring 对 JavaEE API（如 JDBC、JavaMail、远程调用等）进行了薄薄的封装层，使这些 API 的 </li>
</ul>
<p>使用难度大为降低。 </p>
<p><strong>Java</strong> <strong>源码是经典学习范例</strong> </p>
<ul>
<li>Spring 的源代码设计精妙、结构清晰、匠心独用，处处体现着大师对 Java 设计模式灵活运用以 </li>
</ul>
<p>及对 Java 技术的高深造诣。它的源代码无意是 Java 技术的最佳实践的范例。</p>
<h4 id="3-Spring的体系结构"><a href="#3-Spring的体系结构" class="headerlink" title="3.Spring的体系结构"></a>3.Spring的体系结构</h4>

<p><img src="/2020/10/07/Spring-1/1584517949330.png"></p>
<h2 id="2-IOC的概念和作用"><a href="#2-IOC的概念和作用" class="headerlink" title="2.IOC的概念和作用"></a>2.IOC的概念和作用</h2><p><img src="/2020/10/07/Spring-1/111.webp"></p>
<h4 id="1-什么是程序的耦合？"><a href="#1-什么是程序的耦合？" class="headerlink" title="1. 什么是程序的耦合？"></a>1. 什么是程序的耦合？</h4><ul>
<li>耦合性(Coupling)，也叫耦合度，是对模块间关联程度的度量。耦合的强弱取决于模块间接口的复杂性、调 </li>
</ul>
<p>用模块的方式以及通过界面传送数据的多少。模块间的耦合度是指模块之间的依赖关系，包括控制关系、调用关 </p>
<p>系、数据传递关系。模块间联系越多，其耦合性越强，同时表明其独立性越差( 降低耦合性，可以提高其独立 </p>
<p>性)。耦合性存在于各个领域，而非软件设计中独有的，但是我们只讨论软件工程中的耦合。 </p>
<ul>
<li><p><strong>划分模块的一个</strong> <strong>准则就是高内聚低耦合。</strong></p>
</li>
<li><p>如果模块间必须 存在耦合，就尽量使用数据耦合，少用控制耦合，限制公共耦合的范围，尽量避免使用内容耦合。</p>
</li>
</ul>
<h4 id="2-工厂模式解耦"><a href="#2-工厂模式解耦" class="headerlink" title="2. 工厂模式解耦"></a>2. 工厂模式解耦</h4><ul>
<li><p>在实际开发中我们可以把三层的对象都使用配置文件配置起来，当启动服务器应用加载的时候，让一个类中的 </p>
<p>方法通过读取配置文件，把这些对象创建出来<strong>并存起来</strong>。在接下来的使用的时候，直接拿过来用就好了。 </p>
<p>那么，这个读取配置文件，创建和获取三层对象的类就是工厂。 </p>
</li>
</ul>
<h4 id="3-控制反转-Inversion-Of-Control"><a href="#3-控制反转-Inversion-Of-Control" class="headerlink" title="3. 控制反转-Inversion Of Control"></a>3. 控制反转-Inversion Of Control</h4><ol>
<li>存哪去？</li>
</ol>
<ul>
<li><p>分析：由于我们是很多对象，肯定要找个集合来存。这时候有 Map 和 List 供选择。 </p>
<p>到底选 Map 还是 List 就看我们有没有查找需求。<strong>有查找需求，选 Map</strong>。 所以我们的答案就是 <strong>在应用加载时，创建一个 Map，用于存放三层对象。 我们把这个 map 称之为容器</strong>。 </p>
</li>
</ul>
<ol start="2">
<li>还是没解释什么是工厂？ </li>
</ol>
<ul>
<li><p>工厂就是负责给我们从容器中获取指定对象的类。这时候我们获取对象的方式发生了改变。  </p>
</li>
<li><p>原来： 我们在获取对象时，都是采用 new 的方式，是主动的。</p>
</li>
<li><p>现在：<strong>我们获取对象时，同时跟工厂要，有工厂为我们查找或者创建对象</strong>。是被动的</p>
</li>
</ul>
<p><img src="/2020/10/07/Spring-1/1584518500685.png"></p>
<ol start="3">
<li>IOC的作用</li>
</ol>
<ul>
<li><strong>削减</strong>计算机程序的耦合(解除我们代码中的依赖关系)</li>
</ul>
<h2 id="3-IOC解决程序的耦合步骤"><a href="#3-IOC解决程序的耦合步骤" class="headerlink" title="3. IOC解决程序的耦合步骤"></a>3. IOC解决程序的耦合步骤</h2><h4 id="1-基于xml的IOC入门"><a href="#1-基于xml的IOC入门" class="headerlink" title="1. 基于xml的IOC入门"></a>1. 基于xml的IOC入门</h4><ol>
<li>导入maven依赖</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependencies&gt;</span><br><span class="line">    &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;</span><br><span class="line">    &lt;/dependency&gt;</span><br><span class="line">&lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>创建业务层接口和实现类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">	<span class="comment">//保存账户</span></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//此处的依赖关系有待解决</span></span><br><span class="line">	<span class="keyword">private</span> IAccountDao accountDao = <span class="keyword">new</span> AccountDaoImpl();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	accountDao.saveAccount();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>创建持久层接口和实现类</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   	 	System.out.println(<span class="string">&quot;保存了账户&quot;</span>);</span><br><span class="line">	&#125; </span><br></pre></td></tr></table></figure>

<ol start="4">
<li>创建applicationContext.xml文件(resources目录下)</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!-- bean 标签：用于配置让 spring 创建对象，并且存入 ioc 容器之中</span></span><br><span class="line"><span class="comment">     id 属性：对象的唯一标识。</span></span><br><span class="line"><span class="comment">     class 属性：指定要创建对象的全限定类名</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 配置 service --&gt;</span> </span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 配置 dao --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;accountDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.AccountDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>测试</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//1.使用 ApplicationContext 接口，就是在获取 spring 容器</span></span><br><span class="line">       ApplicationContext ac = <span class="keyword">new</span> 																ClassPathXmlApplicationContext(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br><span class="line">       <span class="comment">//2.根据 bean 的 id 获取对象</span></span><br><span class="line">       IAccountService aService = (IAccountService) ac.getBean(<span class="string">&quot;accountService&quot;</span>);</span><br><span class="line">       System.out.println(aService);</span><br><span class="line">       IAccountDao aDao = (IAccountDao) ac.getBean(<span class="string">&quot;accountDao&quot;</span>);</span><br><span class="line">       System.out.println(aDao);</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-基于-XML-的-IOC-细节"><a href="#2-基于-XML-的-IOC-细节" class="headerlink" title="2.  基于 XML 的 IOC 细节"></a>2.  <strong>基于</strong> <strong>XML</strong> <strong>的</strong> <strong>IOC</strong> <strong>细节</strong></h4><p><img src="/2020/10/07/Spring-1/1584519276849.png"></p>
<ol>
<li><strong>BeanFactory</strong> <strong>和</strong> <strong>ApplicationContext</strong> <strong>的区别</strong></li>
</ol>
<ul>
<li><p>BeanFactory 才是 Spring 容器中的顶层接口。 </p>
</li>
<li><p>ApplicationContext 是它的子接口。 </p>
</li>
<li><p>BeanFactory 和 ApplicationContext 的区别： </p>
<ul>
<li><p>创建对象的时间点不一样。 </p>
</li>
<li><p><strong>ApplicationContext：只要一读取配置文件，默认情况下就会创建对象</strong>。 </p>
</li>
<li><p>BeanFactory：什么使用什么时候创建对象。 </p>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ApplicationContext</strong> <strong>接口的实现类</strong></li>
</ol>
<ul>
<li><strong>ClassPathXmlApplicationContext</strong><ul>
<li>它是从类的根路径下加载配置文件</li>
</ul>
</li>
<li><strong>FileSystemXmlApplicationContext</strong><ul>
<li>它是从磁盘路径上加载配置文件，配置文件可以在磁盘的任意位置。 </li>
</ul>
</li>
<li><strong>AnnotationConfigApplicationContext:</strong> <ul>
<li>当我们使用<strong>注解配置容器对象</strong>时，需要使用此类来创建 spring 容器。它用来读取注解</li>
</ul>
</li>
</ul>
<h4 id="3-IOC-中-bean-标签和管理对象细节"><a href="#3-IOC-中-bean-标签和管理对象细节" class="headerlink" title="3. IOC 中 bean 标签和管理对象细节"></a>3. <strong>IOC</strong> <strong>中</strong> <strong>bean</strong> <strong>标签和管理对象细节</strong></h4><ol>
<li><strong>bean标签</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">作用：</span><br><span class="line">	用于配置对象让 spring 来创建的。</span><br><span class="line">	默认情况下它调用的是类中的无参构造函数。如果没有无参构造函数则不能创建成功。</span><br><span class="line">属性：</span><br><span class="line">	id：给对象在容器中提供一个唯一标识。用于获取对象。</span><br><span class="line">	<span class="class"><span class="keyword">class</span>：指定类的全限定类名。用于反射创建对象。默认情况下调用无参构造函数。</span></span><br><span class="line"><span class="class">	<span class="title">scope</span>：指定对象的作用范围。</span></span><br><span class="line">    * singleton :默认值，单例的.</span><br><span class="line">    * prototype :多例的.</span><br><span class="line">    * request :WEB 项目中,Spring 创建一个 Bean 的对象,将对象存入到 request 域中.</span><br><span class="line">    * session :WEB 项目中,Spring 创建一个 Bean 的对象,将对象存入到 session 域中.</span><br><span class="line">    * global session :WEB 项目中,应用在 Portlet 环境.如果没有 Portlet 环境那么</span><br><span class="line">    globalSession 相当于 session.</span><br><span class="line">    init-method：指定类中的初始化方法名称。</span><br><span class="line">    destroy-method：指定类中销毁方法名称。</span><br></pre></td></tr></table></figure>



<ol start="2">
<li><p><strong>bean</strong> <strong>的作用范围和生命周期</strong></p>
</li>
<li><p>单例对象：<strong>scope=”singleton”</strong> </p>
</li>
</ol>
<ul>
<li><p>一个应用只有一个对象的实例。它的作用范围就是整个引用。 </p>
</li>
<li><p>生命周期： </p>
<ul>
<li><p>对象出生：当应用加载，创建容器时，对象就被创建了。 </p>
</li>
<li><p>对象活着：只要容器在，对象一直活着。 </p>
</li>
<li><p>对象死亡：当应用卸载，销毁容器时，对象就被销毁了。 </p>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li>多例对象：<strong>scope=”prototype”</strong> </li>
</ol>
<ul>
<li><p>每次访问对象时，都会重新创建对象实例。 </p>
</li>
<li><p>生命周期： </p>
<ul>
<li><p>对象出生：当使用对象时，创建新的对象实例。 </p>
</li>
<li><p>对象活着：只要对象在使用中，就一直活着。 </p>
</li>
<li><p>对象死亡：当对象长时间不用时，被 java 的垃圾回收器回收了。 </p>
</li>
</ul>
</li>
</ul>
<h4 id="4-实例化bean的三种方式"><a href="#4-实例化bean的三种方式" class="headerlink" title="4.实例化bean的三种方式"></a>4.实例化bean的三种方式</h4><ol>
<li><strong>使用默认无参构造函数</strong></li>
</ol>
<ul>
<li>它会根据默认无参构造函数来创建类对象。如果 bean 中没有默认无参构造函数，将会创建失败</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;accountService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>spring</strong> <strong>管理静态工厂使用静态工厂的方法创建对象</strong></li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> IAccountService <span class="title">createAccountService</span><span class="params">()</span></span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line">    &lt;!-- 此种方式是:</span><br><span class="line">    使用 StaticFactory 类中的静态方法 createAccountService 创建对象，并存入 spring 容器</span><br><span class="line">    id 属性：指定 bean 的 id，用于从容器中获取</span><br><span class="line">    <span class="class"><span class="keyword">class</span> 属性：指定静态工厂的全限定类名</span></span><br><span class="line"><span class="class">    <span class="title">factory</span>-<span class="title">method</span> 属性：指定生产对象的静态方法</span></span><br><span class="line"><span class="class">    --&gt; </span></span><br><span class="line"><span class="class"> &lt;<span class="title">bean</span> <span class="title">id</span></span>=<span class="string">&quot;accountService&quot;</span><span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.factory.StaticFactory&quot;</span></span><br><span class="line"> 	factory-method=&quot;createAccountService&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>spring</strong> <strong>管理实例工厂使用实例工厂的方法创建对象</strong></li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> IAccountService <span class="title">createAccountService</span><span class="params">()</span></span>&#123;</span><br><span class="line">   		<span class="keyword">return</span> <span class="keyword">new</span> AccountServiceImpl();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br><span class="line">        &lt;!-- 此种方式是：先把工厂的创建交给 spring 来管理。</span><br><span class="line">        然后在使用工厂的 bean 来调用里面的方法</span><br><span class="line">        factory-bean 属性：用于指定实例工厂 bean 的 id。</span><br><span class="line">        factory-method 属性：用于指定实例工厂中创建对象的方法。</span><br><span class="line">        --&gt; </span><br><span class="line">  &lt;bean id=&quot;instancFactory&quot; class=&quot;com.itheima.factory.InstanceFactory&quot;&gt;&lt;/bean&gt; </span><br><span class="line">  &lt;bean id=<span class="string">&quot;accountService&quot;</span>factory-bean=<span class="string">&quot;instancFactory&quot;</span></span><br><span class="line">         factory-method=&quot;createAccountService&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-Spring的依赖注入"><a href="#4-Spring的依赖注入" class="headerlink" title="4.Spring的依赖注入"></a>4.Spring的依赖注入</h2><h4 id="1-依赖注入概念"><a href="#1-依赖注入概念" class="headerlink" title="1.依赖注入概念"></a>1.依赖注入概念</h4><blockquote>
<p>依赖注入：<strong>Dependency Injection。它是 spring 框架核心 ioc 的具体实现</strong>。 </p>
</blockquote>
<ul>
<li><p>我们的程序在编写时，通过控制反转，把对象的创建交给了 spring，但是代码中不可能出现没有依赖的情况。 ioc 解耦只是降低他们的依赖关系，但不会消除。例如：我们的业务层仍会调用持久层的方法。 </p>
</li>
<li><p>那这种<strong>业务层和持久层的依赖关系，在使用 spring 之后，就让 spring 来维护</strong>了。 </p>
</li>
<li><p>简单的说，就是<strong>坐等框架把持久层对象传入业务层，而不用我们自己去获取</strong></p>
</li>
</ul>
<h4 id="2-构造函数注入"><a href="#2-构造函数注入" class="headerlink" title="2. 构造函数注入"></a>2. <strong>构造函数注入</strong></h4><ul>
<li>使用类中的构造函数，给成员变量赋值。</li>
<li>注意，赋值的操作不是我们自己做的，而是通过配置 的方式，让 spring 框架来为我们注入</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> Date birthday;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">AccountServiceImpl</span><span class="params">(String name, Integer age, Date birthday)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.birthday = birthday; &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	System.out.println(name+<span class="string">&quot;,&quot;</span>+age+<span class="string">&quot;,&quot;</span>+birthday);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用构造函数的方式，给 service 中的属性传值<br>要求：<strong>类中需要提供一个对应参数列表的构造函数。</strong><br>涉及的标签：<pre><code>    **constructor-arg**</code></pre>
属性：<pre><code>    index:指定参数在构造函数参数列表的索引位置
    type:指定参数在构造函数中的数据类型
    **name:指定参数在构造函数中的名称 用这个找给谁赋值**</code></pre>
=======上面三个都是找给谁赋值，下面两个指的是赋什么值的==============<br><strong>value:它能赋的值是基本数据类型和 String 类型</strong><br><strong>ref:它能赋的值是其他 bean 类型，也就是说，必须得是在配置文件中配置过的 bean</strong></li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=&quot;accountService&quot; class=&quot;com.itheima.service.impl.AccountServiceImpl&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;张三&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;age&quot; value=&quot;18&quot;&gt;&lt;/constructor-arg&gt; &lt;constructor-arg name=&quot;birthday&quot; ref=&quot;now&quot;&gt;&lt;/constructor-arg&gt;</span><br><span class="line">&lt;/bean&gt; &lt;bean id=&quot;now&quot; class=&quot;java.util.Date&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-set方法注入"><a href="#3-set方法注入" class="headerlink" title="3.set方法注入"></a>3.set方法注入</h4><ul>
<li><p><strong>在类中提供需要注入成员的 set 方法</strong></p>
</li>
<li><p>通过配置文件给 bean 中的属性传值：使用 set 方法的方式 </p>
</li>
</ul>
<p>涉及的标签： </p>
<p>​    <strong>property</strong></p>
<p>属性： </p>
<p>​    <strong>name</strong>：找的是类中 <strong>set 方法后面的部分</strong> (属性)</p>
<p>​    <strong>ref</strong>：给属性赋值是其他 <strong>bean 类型的</strong> </p>
<p>​    <strong>value</strong>：给属性赋值是基本数据类型和 string 类型的 </p>
<p><strong>实际开发中，此种方式用的较多。</strong> </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;accountService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>&gt; </span><br><span class="line"></span><br><span class="line">    &lt;property name=&quot;name&quot; value=*&quot;test&quot;*&gt;&lt;/property&gt; </span><br><span class="line"></span><br><span class="line">    &lt;property name=&quot;age&quot; value=&quot;21&quot;&gt;&lt;/property&gt; </span><br><span class="line"></span><br><span class="line">    &lt;property name=&quot;birthday&quot; ref=&quot;now&quot;&gt;&lt;/property&gt; </span><br><span class="line"></span><br><span class="line">&lt;/bean&gt; </span><br><span class="line"></span><br><span class="line">&lt;bean id=&quot;now&quot; class=&quot;java.util.Date&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-使用-p-名称空间注入数据（本质还是调用-set-方法）"><a href="#4-使用-p-名称空间注入数据（本质还是调用-set-方法）" class="headerlink" title="4.使用 p 名称空间注入数据（本质还是调用 set 方法）"></a>4.<strong>使用</strong> <strong>p</strong> <strong>名称空间注入数据（本质还是调用</strong> <strong>set</strong> <strong>方法）</strong></h4><ul>
<li>此种方式是通过在 xml 中导入 p 名称空间，使用 <strong>p:propertyName 来注入数据</strong>，它的本质仍然是调用类中的 set 方法实现注入功能。 </li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line"> 	xmlns:p=<span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="line">    xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">    xsi:schemaLocation=<span class="string">&quot; http://www.springframework.org/schema/beans </span></span><br><span class="line"><span class="string">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="line"> </span><br><span class="line">&lt;bean id=<span class="string">&quot;accountService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl4&quot;</span></span><br><span class="line"> 	p:name=<span class="string">&quot;test&quot;</span> p:age=<span class="string">&quot;21&quot;</span> p:birthday-ref=<span class="string">&quot;now&quot;</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">        </span><br><span class="line">&lt;bean id = &quot;now&quot; class = &quot;java.util.Date&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>



<h4 id="5-注入集合属性"><a href="#5-注入集合属性" class="headerlink" title="5.注入集合属性"></a>5.<strong>注入集合属性</strong></h4><ul>
<li>给类中的集合成员传值，它用的也是set方法注入的方式，只不过变量的数据类型都是集合。 </li>
</ul>
<p>我们这里介绍注入数组，List,Set,Map,Properties。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String[] myStrs;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; myList;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; mySet;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; myMap;</span><br><span class="line">    <span class="keyword">private</span> Properties myProps;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注入集合数据 </p>
</blockquote>
<ul>
<li><p>List 结构的： </p>
<ul>
<li><strong>array,list,set</strong> </li>
</ul>
<p>Map 结构的 </p>
<ul>
<li><strong>map,entry,props,prop</strong></li>
</ul>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">&quot;accountService&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>&gt;</span><br><span class="line">    &lt;!-- 在注入集合数据时，只要结构相同，标签可以互换 --&gt;</span><br><span class="line">    &lt;!-- 给数组注入数据 --&gt; </span><br><span class="line">    &lt;property name=<span class="string">&quot;myStrs&quot;</span>&gt; </span><br><span class="line">    &lt;set&gt;</span><br><span class="line">        &lt;value&gt;AAA&lt;/value&gt; </span><br><span class="line">        &lt;value&gt;BBB&lt;/value&gt; </span><br><span class="line">        &lt;value&gt;CCC&lt;/value&gt;</span><br><span class="line">	&lt;/set&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;!-- 注入 list 集合数据 --&gt; </span><br><span class="line">    &lt;property name=<span class="string">&quot;myList&quot;</span>&gt; </span><br><span class="line">    &lt;array&gt; </span><br><span class="line">        &lt;value&gt;AAA&lt;/value&gt; </span><br><span class="line">        &lt;value&gt;BBB&lt;/value&gt; </span><br><span class="line">        &lt;value&gt;CCC&lt;/value&gt;</span><br><span class="line">    &lt;/array&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;!-- 注入 Map 数据 --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;myMap&quot;</span>&gt;</span><br><span class="line">    &lt;props&gt; </span><br><span class="line">        &lt;prop key=&quot;testA&quot;&gt;aaa&lt;/prop&gt; </span><br><span class="line">        &lt;prop key=&quot;testB&quot;&gt;bbb&lt;/prop&gt;</span><br><span class="line">	&lt;/props&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;!-- 注入 properties 数据 --&gt;</span><br><span class="line">    &lt;property name=<span class="string">&quot;myProps&quot;</span>&gt;</span><br><span class="line">    &lt;map&gt;</span><br><span class="line">    &lt;entry key=&quot;testA&quot; value=&quot;aaa&quot;&gt;&lt;/entry&gt; </span><br><span class="line">    &lt;entry key=<span class="string">&quot;testB&quot;</span>&gt; </span><br><span class="line">    	&lt;value&gt;bbb&lt;/value&gt;</span><br><span class="line">	&lt;/entry&gt;</span><br><span class="line">	&lt;/map&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure>



<h2 id="5-使用-spring-的-IOC-的实现账户的-CRUD"><a href="#5-使用-spring-的-IOC-的实现账户的-CRUD" class="headerlink" title="5. 使用 spring 的 IOC 的实现账户的 CRUD"></a>5. <strong>使用</strong> <strong>spring</strong> <strong>的</strong> <strong>IOC</strong> <strong>的实现账户的</strong> <strong>CRUD</strong></h2><h4 id="1-创建数据库"><a href="#1-创建数据库" class="headerlink" title="1. 创建数据库"></a>1. 创建数据库</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">account</span>(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">int</span> primary <span class="keyword">key</span> auto_increment,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">varchar</span>(<span class="number">40</span>),</span><br><span class="line">    money <span class="built_in">float</span></span><br><span class="line">	)<span class="built_in">character</span> <span class="keyword">set</span> utf8 <span class="keyword">collate</span> utf8_general_ci;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">account</span>(<span class="keyword">name</span>,money) <span class="keyword">values</span>(<span class="string">&#x27;aaa&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">account</span>(<span class="keyword">name</span>,money) <span class="keyword">values</span>(<span class="string">&#x27;bbb&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">account</span>(<span class="keyword">name</span>,money) <span class="keyword">values</span>(<span class="string">&#x27;ccc&#x27;</span>,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>



<h4 id="2-编写实体类"><a href="#2-编写实体类" class="headerlink" title="2. 编写实体类"></a>2. 编写实体类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Float money;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="3-编写持久层代码"><a href="#3-编写持久层代码" class="headerlink" title="3.编写持久层代码"></a>3.<strong>编写持久层代码</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(Integer accountId)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function">Account <span class="title">findById</span><span class="params">(Integer accountId)</span></span>;</span><br><span class="line"></span><br><span class="line">	<span class="function">List&lt;Account&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> DBAssit dbAssit;</span><br><span class="line">	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDbAssit</span><span class="params">(DBAssit dbAssit)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.dbAssit = dbAssit; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">    	dbAssit.update(<span class="string">&quot;insert into </span></span><br><span class="line"><span class="string">    	account(name,money)values(?,?)&quot;</span>,account.getName(),account.getMoney());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">        dbAssit.update(<span class="string">&quot;update account set name=?,money=? where </span></span><br><span class="line"><span class="string">        id=?&quot;</span>,account.getName(),account.getMoney(),account.getId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Integer accountId)</span> </span>&#123;</span><br><span class="line">    	dbAssit.update(<span class="string">&quot;delete from account where id=?&quot;</span>,accountId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findById</span><span class="params">(Integer accountId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dbAssit.query(<span class="string">&quot;select * from account where id=?&quot;</span>,<span class="keyword">new</span></span><br><span class="line">        BeanHandler&lt;Account&gt;(Account.class),accountId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dbAssit.query(<span class="string">&quot;select * from account &quot;</span>,<span class="keyword">new</span></span><br><span class="line">        BeanListHandler&lt;Account&gt;(Account.class));</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-编写业务层代码"><a href="#4-编写业务层代码" class="headerlink" title="4.编写业务层代码"></a>4.<strong>编写业务层代码</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">updateAccount</span><span class="params">(Account account)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">deleteAccount</span><span class="params">(Integer accountId)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">Account <span class="title">findAccountById</span><span class="params">(Integer accountId)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;Account&gt; <span class="title">findAllAccount</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao;</span><br><span class="line">    <span class="comment">//set方法注入</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAccountDao</span><span class="params">(IAccountDao accountDao)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.accountDao = accountDao; &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">    accountDao.save(account);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateAccount</span><span class="params">(Account account)</span> </span>&#123;</span><br><span class="line">    accountDao.update(account);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteAccount</span><span class="params">(Integer accountId)</span> </span>&#123;</span><br><span class="line">    accountDao.delete(accountId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">findAccountById</span><span class="params">(Integer accountId)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> accountDao.findById(accountId);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Account&gt; <span class="title">findAllAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> accountDao.findAll();</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-创建并编写配置文件"><a href="#5-创建并编写配置文件" class="headerlink" title="5.创建并编写配置文件"></a>5.<strong>创建并编写配置文件</strong></h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="line"> xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line"> xsi:schemaLocation=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string"> http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="line"> </span><br><span class="line">&lt;!-- 配置 service --&gt; </span><br><span class="line">    &lt;bean id=<span class="string">&quot;accountService&quot;</span><span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.service.impl.AccountServiceImpl&quot;</span>&gt; </span><br><span class="line">        &lt;property name=&quot;accountDao&quot; ref=&quot;accountDao&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;!-- 配置 dao --&gt; </span><br><span class="line">     &lt;bean id=<span class="string">&quot;accountDao&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.dao.impl.AccountDaoImpl&quot;</span>&gt; </span><br><span class="line">        &lt;property name=&quot;dbAssit&quot; ref=&quot;dbAssit&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;!-- 配置 dbAssit 此处我们只注入了数据源，表明每条语句独立事务--&gt; </span><br><span class="line">    &lt;bean id=<span class="string">&quot;dbAssit&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.dbassit.DBAssit&quot;</span>&gt;</span><br><span class="line">	&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;!-- 配置数据源 --&gt; </span><br><span class="line">    &lt;bean id=<span class="string">&quot;dataSource&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt; </span><br><span class="line">        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql:///spring_day02&quot;&gt;&lt;/property&gt;</span><br><span class="line">        &lt;property name=&quot;user&quot; value=&quot;root&quot;&gt;&lt;/property&gt; </span><br><span class="line">        &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6-测试代码"><a href="#6-测试代码" class="headerlink" title="6. 测试代码"></a>6. 测试代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 测试保存</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSaveAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Account account = <span class="keyword">new</span> Account();</span><br><span class="line">    account.setName(<span class="string">&quot;黑马程序员&quot;</span>);</span><br><span class="line">    account.setMoney(<span class="number">100000f</span>);</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">	as.saveAccount(account);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 测试查询一个</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAccountById</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">    Account account = as.findAccountById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(account);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 测试更新</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdateAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">    Account account = as.findAccountById(<span class="number">1</span>);</span><br><span class="line">    account.setMoney(<span class="number">20301050f</span>);</span><br><span class="line">    as.updateAccount(account);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 测试删除</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDeleteAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">    as.deleteAccount(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 测试查询所有</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindAllAccount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">    List&lt;Account&gt; list = as.findAllAccount();</span><br><span class="line">    <span class="keyword">for</span>(Account account : list) &#123;</span><br><span class="line">    System.out.println(account);</span><br><span class="line">	&#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="7-分析测试中的问题"><a href="#7-分析测试中的问题" class="headerlink" title="7. 分析测试中的问题"></a>7. 分析测试中的问题</h4><ul>
<li>每个测试方法都重新获取了一次 spring 的核心容器，造成了不必要的重复代码，增加了我们开发的工作量。这种情况，在开发中应该避免发生。 有些同学可能想到了，我们把容器的获取定义到类中去。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> IAccountService as = ac.getBean(<span class="string">&quot;accountService&quot;</span>,IAccountService.class);</span><br><span class="line">&#125;</span><br><span class="line">这种方式虽然能解决问题，但是扔需要我们自己写代码来获取容器。</span><br><span class="line">能不能测试时直接就编写测试方法，而不需要手动编码来获取容器呢？</span><br></pre></td></tr></table></figure>



<h2 id="6-基于注解的-IOC-配置"><a href="#6-基于注解的-IOC-配置" class="headerlink" title="6.  基于注解的 IOC 配置"></a>6.  <strong>基于注解的</strong> <strong>IOC</strong> <strong>配置</strong></h2><ul>
<li><p>学习基于注解的 IoC 配置，大家脑海里首先得有一个认知，即注解配置和 xml 配置要实现的功能都是一样 </p>
<p>的，都是要降低程序间的耦合。只是配置的形式不一样。 </p>
</li>
<li><p>关于实际的开发中到底使用xml还是注解，每家公司有着不同的使用习惯。所以这两种配置方式我们都需要掌 </p>
<p>握。 </p>
</li>
</ul>
<h4 id="1-使用-Component-注解配置管理的资源"><a href="#1-使用-Component-注解配置管理的资源" class="headerlink" title="1.使用@Component 注解配置管理的资源"></a>1.<strong>使用</strong>@Component <strong>注解配置管理的资源</strong></h4><blockquote>
<p><strong>注意：</strong> </p>
<p>1、当我们使用注解注入时，set 方法不用写</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component(&quot;accountService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceImpl</span> <span class="keyword">implements</span> <span class="title">IAccountService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IAccountDao accountDao;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAccountDao</span><span class="params">(IAccountDao accountDao)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.accountDao = accountDao; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component(&quot;accountDao&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title">IAccountDao</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> DBAssit dbAssit; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-创建-spring-的-xml-配置文件并开启对注解的支持"><a href="#2-创建-spring-的-xml-配置文件并开启对注解的支持" class="headerlink" title="2.创建 spring 的 xml 配置文件并开启对注解的支持"></a>2.<strong>创建</strong> <strong>spring</strong> <strong>的</strong> <strong>xml</strong> <strong>配置文件并开启对注解的支持</strong></h4><blockquote>
<p>基于注解整合时，导入约束时需要多导入一个 context 名称空间下的约束。<br>由于我们使用了注解配置，此时不能在继承 JdbcDaoSupport，需要自己配置一个 JdbcTemplate</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">     http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">     http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">     http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- 告知 spring 创建容器时要扫描的包 --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.itheima&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置 dbAssit --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dbAssit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dbassit.DBAssit&quot;</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 配置数据源 --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql:///spring_day02&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h4 id="3-常用注解"><a href="#3-常用注解" class="headerlink" title="3. 常用注解"></a>3. <strong>常用注解</strong></h4><blockquote>
<p><strong>用于创建对象的</strong>  相当于–&gt; <bean id class></bean></p>
</blockquote>
<ul>
<li><p><strong>@Component</strong> </p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li>把资源让 spring 来管理。相当于在 xml 中配置一个 bean。 </li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li><strong>value：指定 bean 的 id</strong>。<strong>如果不指定 value 属性，默认 bean 的 id 是当前类的类名。首字母小写</strong>。 </li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>@Controller @Service @Repository</strong></p>
<p><strong>@Controller：</strong>一般用于表现层的注解。 </p>
<p><strong>@Service</strong>：一般用于业务层的注解。 </p>
<p><strong>@Repository</strong>：一般用于持久层的注解。 </p>
<p><strong>细节：如果注解中有且只有一个属性要赋值时，且名称是</strong> <strong>value</strong>，<strong>value</strong> <strong>在赋值是可以不写。</strong></p>
</li>
</ul>
<blockquote>
<p><strong>用于注入数据的</strong>  相当于 <property name value>  <peoperty name ref></peoperty></property></p>
</blockquote>
<ul>
<li><p><strong>@Autowired</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li><p><strong>自动按照类型注入。当使用注解注入属性时，set 方法可以省略。它只能注入其他 bean 类型</strong>。当有多个 </p>
<p>类型匹配时，使用<strong>要注入的对象变量名称作为 bean 的 id</strong>，在 spring 容器查找，找到了也可以注入成功。找不到就报错。</p>
</li>
</ul>
</li>
<li><p><strong>@Qualifier</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li>在<strong>自动按照类型注入的基础之上，再按照 Bean 的 id 注入</strong>。它在<strong>给字段注入时不能独立使用，必须和</strong> </li>
</ul>
<p><strong>@Autowire 一起使用；但是给方法参数注入时，可以独立使用。</strong> </p>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li><strong>value：指定 bean 的 id。</strong> </li>
</ul>
</li>
<li><p><strong>@Resource</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li>直接按照 Bean 的 id 注入。它也只能注入其他 bean 类型。 </li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>name：指定 bean 的 id。</li>
</ul>
</li>
<li><p><strong>@Value</strong> </p>
</li>
<li><p><strong>作用：</strong> </p>
</li>
<li><p>注入基本数据类型和 String 类型数据的 </p>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>value：用于指定值 </li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>用于改变作用范围的：</strong>相当于 <bean id scope></bean></p>
</blockquote>
<ul>
<li><p><strong>@Scope</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li>指定 bean 的作用范围。 </li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li><p>value：指定范围的值。 </p>
</li>
<li><p>取值：singleton prototype request session globalsession </p>
</li>
</ul>
</li>
</ul>
<h2 id="7-关于-Spring-注解和-XML-的选择问题"><a href="#7-关于-Spring-注解和-XML-的选择问题" class="headerlink" title="7. 关于 Spring 注解和 XML 的选择问题"></a>7. <strong>关于</strong> <strong>Spring</strong> <strong>注解和</strong> <strong>XML</strong> <strong>的选择问题</strong></h2><p><strong>注解的优势：</strong> </p>
<ul>
<li>配置简单，维护方便（我们找到类，就相当于找到了对应的配置）。 </li>
</ul>
<p><strong>XML</strong> <strong>的优势：</strong> </p>
<ul>
<li>修改时，不用改源码。不涉及重新编译和部署。 </li>
</ul>
<p><strong>Spring</strong> <strong>管理</strong> <strong>Bean</strong> <strong>方式的比较：</strong></p>
<p><img src="/2020/10/07/Spring-1/1584527978467.png"></p>
<h4 id="1-spring-的纯注解配置"><a href="#1-spring-的纯注解配置" class="headerlink" title="1. spring 的纯注解配置"></a>1. <strong>spring</strong> <strong>的纯注解配置</strong></h4><ul>
<li><p>我们发现，之所以我们现在离不开 xml 配置文件，是因为我们有一句很关键的配置： </p>
<!-- 告知spring框架在，读取配置文件，创建容器时，扫描注解，依据注解创建对象，并存入容器中 --> 

<p>&lt;context:component-scan base-package=*”com.itheima”*&gt;&lt; &gt;</p>
<p>如果他要也能用注解配置，那么我们就离脱离 xml 文件又进了一步。 </p>
</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">另外，数据源和 JdbcTemplate 的配置也需要靠注解来实现。</span><br><span class="line">&lt;!-- 配置 dbAssit --&gt; </span><br><span class="line">    &lt;bean id=<span class="string">&quot;dbAssit&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.itheima.dbassit.DBAssit&quot;</span>&gt; </span><br><span class="line">    	&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;</span><br><span class="line">	&lt;/bean&gt;</span><br><span class="line">&lt;!-- 配置数据源 --&gt; </span><br><span class="line">     &lt;bean id=<span class="string">&quot;dataSource&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt; </span><br><span class="line">         &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt; </span><br><span class="line">         &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql:///spring_day02&quot;&gt;&lt;/property&gt; 				 &lt;property name=&quot;user&quot; value=&quot;root&quot;&gt;&lt;/property&gt; </span><br><span class="line">         &lt;property name=&quot;password&quot; value=&quot;1234&quot;&gt;&lt;/property&gt;</span><br><span class="line">	 &lt;/bean&gt;</span><br></pre></td></tr></table></figure>



<h4 id="2-新注解说明"><a href="#2-新注解说明" class="headerlink" title="2.新注解说明"></a>2.<strong>新注解说明</strong></h4><ul>
<li><p><strong>@Configuration</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<p><strong>用于指定当前类是一个 spring 配置类，当创建容器时会从该类上加载注解</strong>。<strong>获取容器时需要使用</strong> </p>
<p><strong>AnnotationApplicationContext(有@Configuration 注解的类.class)。</strong> </p>
</li>
<li><p><strong>属性：</strong> </p>
<p>value:用于指定配置类的字节码</p>
</li>
<li><p><strong>@ComponentScan</strong> </p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li><p>用于指定 spring 在初始化容器时要扫描的包。作用和在 spring 的 xml 配置文件中的： </p>
</li>
<li><p>&lt;context:component-scan base-package=”com.itheima”/&gt;是一样的。 </p>
</li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>basePackages：用于指定要扫描的包。和该注解中的 value 属性作用一样。 </li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfiguration</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>@Bean</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li>该注解只能写在<strong>方法上</strong>，表明使用此方法<strong>创建一个对象，并且放入 spring 容器</strong>。 </li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>name：给当前@Bean 注解方法创建的对象指定一个名称(即 <strong>bean 的 id</strong>）。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span> </span>&#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 创建一个数据源，并存入 spring 容器中</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Bean(name=&quot;dataSource&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">createDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ComboPooledDataSource ds = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line">        ds.setUser(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        ds.setDriverClass(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>);</span><br><span class="line">        ds.setJdbcUrl(<span class="string">&quot;jdbc:mysql:///spring_day02&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 创建一个 DBAssit，并且也存入 spring 容器中</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> dataSource</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Bean(name=&quot;dbAssit&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DBAssit <span class="title">createDBAssit</span><span class="params">(DataSource dataSource)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> DBAssit(dataSource);</span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>@PropertySource</strong> </p>
<ul>
<li>用于<strong>加载.properties 文件中的配置</strong>。例如我们配置数据源时，可以把连接数据库的信息写到 properties 配置文件中，就可以使用此注解指定 properties 配置文件的位置。 </li>
</ul>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>value[]：用于指定 properties 文件位置。<strong>如果是在类路径下，需要写上 classpath:</strong> </li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 创建一个数据源，并存入 spring 容器中</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Bean(name=&quot;dataSource&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DataSource <span class="title">createDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ComboPooledDataSource ds = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line">        ds.setDriverClass(driver);</span><br><span class="line">        ds.setJdbcUrl(url);</span><br><span class="line">        ds.setUser(username);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    	<span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(e);</span><br><span class="line">    	&#125; </span><br><span class="line">	&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.properties</span> <span class="string">文件：</span></span><br><span class="line"></span><br><span class="line"><span class="meta">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/day44_ee247_spring</span></span><br><span class="line"><span class="meta">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>@Import</strong></p>
</li>
<li><p><strong>作用：</strong> </p>
<ul>
<li><strong>用于导入其他配置类，在引入其他配置类时，可以不用再写@Configuration 注解</strong>。当然，写上也没问 </li>
</ul>
<p>题。 </p>
</li>
<li><p><strong>属性：</strong> </p>
<ul>
<li>value[]：用于指定其他配置类的字节码。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackages = &quot;com.itheima.spring&quot;)</span> </span><br><span class="line"><span class="meta">@Import(&#123; JdbcConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfiguration</span> </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:jdbc.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JdbcConfig</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-通过注解获取容器"><a href="#3-通过注解获取容器" class="headerlink" title="3. 通过注解获取容器"></a>3. <strong>通过注解获取容器</strong></h4><ul>
<li>ApplicationContext ac =  <strong>new</strong> AnnotationConfigApplicationContext(SpringConfiguration.<strong>class</strong>); </li>
</ul>
<p><img src="/2020/10/07/Spring-1/1584535511415.png"></p>
<h2 id="8-Spring-整合-Junit"><a href="#8-Spring-整合-Junit" class="headerlink" title="8. Spring 整合 Junit"></a>8. <strong>Spring 整合 Junit</strong></h2><h4 id="1-问题"><a href="#1-问题" class="headerlink" title="1.问题"></a>1.问题</h4><ul>
<li><p>在测试类中，每个测试方法都有以下两行代码： ApplicationContext ac = <strong>new</strong> ClassPathXmlApplicationContext(“bean.xml”); </p>
<p>IAccountService as = ac.getBean(“accountService”,IAccountService.<strong>class</strong>); </p>
<p>这两行代码的作用是获取容器，如果不写的话，直接会提示空指针异常。所以又不能轻易删掉。</p>
</li>
</ul>
<h4 id="2-解决思路"><a href="#2-解决思路" class="headerlink" title="2.解决思路"></a>2.解决思路</h4><ul>
<li><p>我们需要的是程序能自动帮我们创建容器。一旦程序能自动为我们创建 spring 容器，我们就 </p>
<p>无须手动创建了，问题也就解决了。 </p>
</li>
<li><p>我们需要依靠 spring 框架，因为它<strong>提供了一个运行器，可以读取配置文件（或注解）来创建容器。我</strong> </p>
<p><strong>们只需要告诉它配置文件在哪就行了。</strong> </p>
</li>
</ul>
<h4 id="3-配置步骤"><a href="#3-配置步骤" class="headerlink" title="3. 配置步骤"></a>3. 配置步骤</h4><ol>
<li>导入maven依赖</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>第二步：使用</strong>@RunWith <strong>注解替换原有运行器</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>使用</strong>@ContextConfiguration <strong>指定</strong> <strong>spring</strong> <strong>配置文件的位置</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations= &#123;&quot;classpath:bean.xml&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ContextConfiguration</span> 注解：</span><br><span class="line">locations 属性：用于指定配置文件的位置。如果是类路径下，需要用 classpath:表明</span><br><span class="line">classes 属性：用于指定注解的类。当不使用 xml 配置时，需要用此属性指定注解类的位置。</span><br></pre></td></tr></table></figure>



<ol start="4">
<li><strong>使用</strong>@Autowired<strong>给测试类中的变量注入数据</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations= &#123;&quot;classpath:bean.xml&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountServiceTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> IAccountService as ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">李世龙</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://light-long.github.io/2020/10/07/Spring-1/">https://light-long.github.io/2020/10/07/Spring-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Light-long.github.io" target="_blank">Light-long</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Spring/">Spring</a><a class="post-meta__tags" href="/tags/IOC/">IOC</a></div><div class="post_share"><div class="social-share" data-image="/img/12.jpg" data-sites="wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.png" target="_blank"><img class="post-qr-code-img" src="/img/wechatpay.png"/></a><div class="post-qr-code-desc"></div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg"/></a><div class="post-qr-code-desc"></div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2020/10/07/Spring-2/"><img class="prev-cover" src="/img/13.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Spring(2)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/10/07/Spring-2/" title="Spring(2)"><img class="cover" src="/img/13.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-07</div><div class="title">Spring(2)</div></div></a></div><div><a href="/2020/10/07/Spring-3/" title="Spring(3)"><img class="cover" src="/img/13.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-10-07</div><div class="title">Spring(3)</div></div></a></div></div></div></article></main><footer id="footer" style="background-image: url(/img/12.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2020 By 李世龙</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></section><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script></div></body></html>